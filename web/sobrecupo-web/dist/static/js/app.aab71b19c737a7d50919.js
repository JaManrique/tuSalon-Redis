webpackJsonp([1],{"/BMy":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{style:this.BannerStyle},[e("img",{style:this.ImageStyle,attrs:{src:r("uZIs")}})])},staticRenderFns:[]},i={name:"App",components:{Banner:r("VU/8")({name:"Banner",data:function(){return{BannerStyle:{position:"fixed",top:0,bottom:0,left:0,right:0,height:"10%",backgroundColor:"rgba(34, 34, 34, 0.4)"},ImageStyle:{height:"100%"}}}},a,!1,null,null,null).exports}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"10%"},attrs:{id:"app"}},[e("banner"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var o=r("VU/8")(i,s,!1,function(t){r("/BMy")},null,null).exports,l=r("/ocq"),u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("h1",[t._v(t._s(t.msg))]),t._v(" "),r("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),r("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),r("br"),t._v(" "),r("li",[r("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};r("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},u,!1,function(t){r("rTc0")},"data-v-882a5e0a",null).exports;var f=r("fZjL"),c=r.n(f),d=r("BO1k"),h=r.n(d),m=r("bOdI"),g=r.n(m),v={name:"ClassroomTimer",data:function(){var t;return{innerCircleStyle:{width:"110px",height:"110px",backgroundColor:"#111111",borderRadius:"50%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"#ffc600"},outerCircleDefault:(t={width:"120px",height:"120px",borderRadius:"50%",justifyContent:"center",alignItems:"center",backgroundColor:"#afafaf",display:"flex"},g()(t,"justifyContent","center"),g()(t,"alignItems","center"),t),time:-1,maxTime:3e4}},mounted:function(){this.time=60*this.data.TUO,setInterval(this.updateDatetime,1e3)},props:["data"],computed:{classroomName:function(){if("string"==typeof this.data.id)return this.data.id.slice(1).replace("_"," ");console.log("??: "+this.data.id)}},methods:{outerCircleStyle:function(t){if(this.time>7200)return{backgroundImage:"linear-gradient(0 deg, #ff6c00 50%, #ff6c00 50%), linear-gradient(90deg, #ff6c00 50%, #ff6c00 50%)"};if(this.time<=7200&&this.time>5400){var e=-(this.time/60-60)/60*360;return{backgroundImage:"linear-gradient(-90deg, transparent 50%, #ff6c00 50%), linear-gradient("+(e-=90)+"deg, #ff6c00 48%, #ffc600 50%), linear-gradient(90deg, #ff6c00 50%, transparent 50%)"}}if(this.time<=5400&&this.time>3600){var r=-(this.time/60-60)/60*360;return{backgroundImage:"linear-gradient(90deg, transparent 50%, #ffc600 50%), linear-gradient("+(r-=90)+"deg, #ff6c00 48%, #ffc600 50%), linear-gradient(90deg, #ffc600 50%, transparent 50%)"}}if(this.time<=3600&&this.time>1800){var n=-this.time/60/60*360;return{backgroundImage:"linear-gradient("+(n-=90)+"deg, #ffc600 48%, transparent 50%), linear-gradient(90deg, #ffc600 50%, transparent 50%)"}}var a=-this.time/60/60*360;return{backgroundImage:"linear-gradient(-90deg, #afafaf 50%, transparent 60%),linear-gradient("+(a-=90)+"deg, #ffc600 48%, transparent 50%)"}},updateDatetime:function(){this.time<=0&&(this.data.TUO="Hasta el final del día"),"string"!=typeof this.data.TUO&&(this.time-=1,this.time%60==0&&(this.data.TUO-=1))}}},p={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:[t.outerCircleDefault,t.outerCircleStyle(t.time)]},[r("div",{style:t.innerCircleStyle},[r("p",[t._v(t._s(t.classroomName))]),t._v(" "),r("p",[t._v(t._s(t.data.TUO))])])])},staticRenderFns:[]},_=r("VU/8")(v,p,!1,null,null,null).exports,y=r("mtWM"),C=r.n(y),b={name:"ClassroomList",data:function(){return{info:null,error:"",freeClassrooms:[],invalidClassrooms:[],allBuildings:[],gridStyle:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"20px"},containerStyle:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}},components:{ClassroomTimer:_},mounted:function(){var t=this;C.a.get("/salones").then(function(e){t.info=e.data,t.classroomNow(new Date)}).catch(function(e){console.log(e),t.error=e.data})},methods:{generateDate:function(t){var e=t.getDate(),r=t.getMonth()+1;return r<10&&(r="0"+r),e+"/"+r+"/18"},isInCountinuityTuple:function(t,e){return t>=parseInt(e[0])-10&&t<parseInt(e[1])},formatFreeClassroom:function(t){var e="";return e+=t.id.slice(1),"string"==typeof t.TUO?e+=": Está libre hasta el final del dia":t.TUO>60?e+=": Está libre durante "+Math.floor(t.TUO/60)+"h "+t.TUO%60+"m  ["+t.TUO+"m]":e+=": Está libre durante "+t.TUO+" minutos",e},randomClassroom:function(){if(0==this.freeClassrooms.length)return this.freeClassroom="Paila",this.freeClassroom;var t=Math.random()*(this.freeClassrooms.length-1);t=Math.round(t);var e=this.freeClassrooms[t];return this.freeClassroom=this.formatFreeClassroom(e),this.freeClassroom},arrContains:function(t,e){var r=!0,n=!1,a=void 0;try{for(var i,s=h()(t);!(r=(i=s.next()).done);r=!0){if(t[i.value]==e)return!0}}catch(t){n=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}return!1},extractBuilding:function(t){return t.split("_")[0].slice(1)},generateIterator:function(t){return c()(t)},classroomNow:function(t){var e=this.info,r=[],n={},a=this.generateDate(t),i=this.generateIterator(e);for(var s in i)if(-1==this.invalidClassrooms.indexOf(i[s])){var o=[];(r=e[i[s]].exceptions[a])&&(o=o.concat(r.split("$$")));var l=JSON.parse(e[i[s]][(t.getDay()-1).toString()].replace(/\'/g,'"'));for(var u in l)o.push(l[u]);n[i[s]]=o}console.log("Local classrooms: "),console.log(n);var f=100*t.getHours()+t.getMinutes(),c=this.generateIterator(n);for(var d in c){var m=!0,g=9e3,v=0,p=0,_=!0,y=!1,C=void 0;try{for(var b,x=h()(n[c[d]]);!(_=(b=x.next()).done);_=!0){var T=b.value.split(/ - /g);if(this.isInCountinuityTuple(f,T)){m=!1;break}var k=parseInt(T[0]),I=k-f;I>0&&I<g&&(g=I,v=Math.floor(f/100),p=Math.floor(k/100))}}catch(t){y=!0,C=t}finally{try{!_&&x.return&&x.return()}finally{if(y)throw C}}if(m)if(9e3==g){g="Hasta el final del día";var O={};O.id=c[d],O.TUO=g,this.freeClassrooms.push(O)}else if(p-v>=0&&(g-=40*(p-v))>10){var U={};U.id=c[d],U.TUO=g,this.freeClassrooms.push(U)}this.arrContains(this.allBuildings,this.extractBuilding(d))||this.allBuildings.push(this.extractBuilding(d))}}}},x={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:t.gridStyle},t._l(t.freeClassrooms,function(e,n){return r("div",{key:n,style:t.containerStyle},[r("classroom-timer",{attrs:{data:e}})],1)}))},staticRenderFns:[]},T=r("VU/8")(b,x,!1,null,null,null).exports;n.a.use(l.a);var k=new l.a({routes:[{path:"/",name:"ClassroomList",component:T}]});n.a.config.devtools=!0,n.a.config.productionTip=!1,new n.a({el:"#app",router:k,components:{App:o},template:"<App/>"})},rTc0:function(t,e){},uZIs:function(t,e,r){t.exports=r.p+"static/img/SobrecupoTransparente.9550148.png"}},["NHnr"]);
//# sourceMappingURL=app.aab71b19c737a7d50919.js.map